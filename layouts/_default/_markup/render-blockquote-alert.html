{{/*  {{- if not (in (slice "note" "tip" "important" "warning" "caution") .AlertType) -}}
  {{- warnf "Alert type %s is not supported" .AlertType -}}
{{- end -}}

{{- $content := .Text -}}
{{- $alertType := .AlertType -}}
{{- $alertTitle := .AlertTitle -}}

{{- partial "components/github-style-alert" (dict "content" $content "alertType" $alertType "alertTitle" $alertTitle) -}}  */}}

{{/* 
  Custom blockquote render hook to turn blockquotes into alerts. 
  Usage in Markdown:
  
  > warning
  > This is a warning alert.

  Supported types: note, tip, important, warning, caution
*/}}

{{- $lines := split .Text "\n" -}}
{{- $firstLine := trim (index $lines 0) " " -}}
{{- $validTypes := slice "note" "tip" "important" "warning" "caution" -}}

{{- if in $validTypes (lower $firstLine) -}}
  {{- $alertType := lower $firstLine -}}
  {{- $alertTitle := title $alertType -}}
  {{- $content := delimit (after 1 $lines) "\n" -}}

  <div class="alert alert-{{ $alertType }}">
    <strong>{{ $alertTitle }}</strong>
    <div>{{ $content | markdownify }}</div>
  </div>
{{- else -}}
  <blockquote>
    {{ .Text | markdownify }}
  </blockquote>
{{- end -}}
